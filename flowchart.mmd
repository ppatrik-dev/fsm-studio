flowchart TD
    A[Start] --> B{Is termination requested?}
    B -- No --> C{Is there an independent feasible transition from current state?}
    C -- Yes --> D{Is it an immediate transition?}
    D -- Yes --> E[Change state and perform state action]
    D -- No --> F[Set timer for this delayed transition]
    C -- No --> G[Remove timers from non-current states]
    G --> H{Wait for timer or external input}
    H -- Timer timeout --> I["Identify timer, remove it
    perform transition
    (Change state and perform state action)"]
    H -- External input event --> J[Find feasible transition for this event\nfrom current state]
    J --> K{Is it immediate transition?}
    K -- Yes --> E
    K -- No --> F
    H -- Termination command --> L[Set termination request to TRUE]
    B -- Yes --> M[End]
    
    E --> B
    F --> B
    I --> B
    L --> B